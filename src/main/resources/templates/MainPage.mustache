<!DOCTYPE html>
<html lang="ko">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>SocialPing - 자동화 설정</title>
    <style>
        * {
            margin: 0;
        }

        header {
            margin-top: 34px;
            display: flex;
            height: 20px;
            justify-content: center;
            align-items: center;
            margin-bottom: 40px;
        }

        #logo {
            display: flex;
            justify-content: center;
            align-items: center;
            margin-right: 190px;
        }

        #logo h2 a {
            text-decoration: none;
            color: black;
        }

        #socialping-logo {
            width: 34px;
            height: 34px;
            margin-right: 10px;
        }

        #title {
            font-size: 22px;
        }

        #links {
            display: flex;
            justify-content: center;
            margin-right: 188px;
        }

        #links a {
            text-decoration: none;
            color: black;
        }

        li {
            list-style-type: none;
            margin-left: 20px;
            margin-right: 20px;
        }

        #login-button {
            margin-left: 330px;
            padding-left: 30px;
            padding-right: 30px;
            padding-top: 10px;
            padding-bottom: 10px;
            border-radius: 10px;
            border: none;
            background-color: #A986EF;
            color: white;
            font-weight: 500;
            font-size: 15px;
            box-shadow: 0px 0px 5px #A986EF;
        }

        #login-button:hover {
            cursor: pointer;
            background-color: #9277c7;
            transition-property: all;
            transition-duration: 0.5s;
            transition-timing-function: ease;
        }

        #member-btn {
            border-radius: 24px;
            border: 1px solid #A986EF;
            width: 240px;
            background-color: #F5F5F5;
        }

        #member-btn:hover {
            cursor: pointer;
        }

        #member {
            display: flex;
            justify-content: center;
            align-items: center;
            padding-left: 10px;
            padding-right: 10px;
            padding-top: 7px;
            padding-bottom: 7px;
            background-color: #F5F5F5;
            border-radius: 24px;
        }

        #profile-icon {
            width: 34px;
            margin-right: 2px;
        }

        #member div {
            margin-left: 10px;
            margin-right: 100px;
        }

        #hello {
            text-align: start;
            font-weight: 600;
            font-size: 12px;
            color: #9C9C9C;
        }

        #username {
            font-weight: 600;
            color: #3F3F3F;
            font-size: 16px;
        }

        /* --------------------------------------- */

        #main-content {
            display: flex;
            justify-content: center;
            align-self: center;
        }

        #preview-content {
            text-align: center;
            position: absolute;
            top: 9%;
            left: 50%;
            transform: translate(275%, 90%);
        }

        #iphone-icon {
            width: 400px;
            margin-top: 38px;
            position: relative;
        }

        #preview-name {
            font-size: 18px;
            margin-bottom: 8px;
        }

        #preview-username {
            color: #646464;
            font-weight: 600;
            font-size: 15px;
            margin-bottom: 8px;
        }

        #preview-description1 {
            font-size: 13px;
            color: #646464;
            margin-bottom: 20px;
        }

        #preview-profile-select {
            background-color: #F0F0F0;
            border: none;
            padding: 6px;
            padding-left: 14px;
            padding-right: 14px;
            border-radius: 5px;
            font-size: 12px;
            color: #3F3F3F;
            font-weight: 600;
            margin-bottom: 20px;
        }

        #preview-profile-select:hover {
            cursor: pointer;
        }

        /* ------------------- 발송 조건 ---------------------- */

        #main-content {
            display: flex;
            justify-content: center;
            align-self: center;
            margin-top: 80px;
            margin-bottom: 180px;
        }

        #if-send {
            background-color: white;
            padding: 24px;
            padding-left: 30px;
            padding-right: 30px;
            height: 844px;
            margin-right: 30px;
            border-radius: 30px;
            border: 2px solid #C0C0C0;
        }

        #follow-us {
            display: flex;
            align-items: center;
        }

        #follow-us p {
            color: #3F3F3F;
            font-weight: 600;
            font-size: 20px;
        }

        #follows {
            color: #3F3F3F;
            margin-left: 16px;
            border-radius: 6px;
            padding: 4px;
            padding-left: 10px;
            padding-right: 10px;
        }

        #follows:focus {
            outline: 1px solid #A986EF;
            box-shadow: 0px 0px 5px #A986EF;
        }

        #description1 {
            background-color: #F3F3F3;
            margin-top: 10px;
            color: #646464;
            font-weight: 400;
            font-size: 15px;
            padding: 10px;
            padding-left: 10px;
            padding-right: 354px;
            padding-bottom: 60px;
            border-radius: 10px;
            margin-bottom: 14px;
            width: 500px;
        }

        #description1 span {
            color: #A986EF;
            font-weight: 600;
            padding-left: 6px;
        }

        #keywording {
            display: flex;
            align-items: center;
        }

        #keywording p {
            color: #3F3F3F;
            font-weight: 600;
            font-size: 20px;
        }

        #keyword {
            color: #3F3F3F;
            margin-left: 16px;
            border-radius: 6px;
            padding: 4px;
            padding-left: 10px;
            padding-right: 10px;
        }

        #filtering-keyword-box {
            background-color: #F3F3F3;
            margin-top: 10px;
            color: #646464;
            font-weight: 400;
            font-size: 15px;
            padding: 10px;
            padding-left: 10px;
            border-radius: 10px;
            margin-bottom: 14px;
        }

        #keyword:focus {
            outline: 1px solid #A986EF;
            box-shadow: 0px 0px 5px #A986EF;
        }

        #filtering-keyword {
            pointer-events: none;
        }

        #filtering-keyword-box #filtering-keyword-description {
            color: #A986EF;
            font-weight: 600;
            font-size: 15px;
            margin-left: 8px;
            margin-top: 4px;
        }

        #filtering-keyword-box #filtering-keyword-description span {
            font-size: 14px;
            color: #646464;
            font-weight: 400;
        }

        #filtering-keyword-box textarea {
            background-color: #ffffff;
            border: none;
            border-radius: 10px;
            width: 808px;
            height: 80px;
            margin-top: 10px;
            margin-left: 8px;
            resize: none;
            padding-left: 10px;
            padding-top: 6px;
        }

        #filtering-keyword-box textarea:focus {
            outline: 1px solid #A986EF;
            box-shadow: 0px 0px 5px #A986EF;
        }

        #comment {
            display: flex;
            align-items: center;
        }

        #comment p {
            color: #3F3F3F;
            font-weight: 600;
            font-size: 20px;
        }

        #comments {
            color: #3F3F3F;
            margin-left: 16px;
            border-radius: 6px;
            padding: 4px;
            padding-left: 10px;
            padding-right: 10px;
        }

        #comments:focus {
            outline: 1px solid #A986EF;
            box-shadow: 0px 0px 5px #A986EF;
        }

        #description2 {
            background-color: #F3F3F3;
            margin-top: 10px;
            color: #646464;
            font-weight: 400;
            font-size: 15px;
            padding: 10px;
            padding-left: 10px;
            padding-right: 300px;
            padding-bottom: 60px;
            border-radius: 10px;
            margin-bottom: 14px;
        }

        #description2 span {
            color: #A986EF;
            font-weight: 600;
            padding-left: 6px;
        }

        #send {
            display: flex;
            align-items: center;
        }

        #send p {
            color: #3F3F3F;
            font-weight: 600;
            font-size: 20px;
        }

        #sends {
            color: #3F3F3F;
            margin-left: 16px;
            border-radius: 6px;
            padding: 4px;
            padding-left: 10px;
            padding-right: 10px;
        }

        #sends:focus {
            outline: 1px solid #A986EF;
            box-shadow: 0px 0px 5px #A986EF;
        }

        #message-ready {
            background-color: #F3F3F3;
            margin-top: 10px;
            color: #646464;
            font-weight: 400;
            font-size: 15px;
            padding: 10px;
            padding-left: 10px;
            border-radius: 10px;
            margin-bottom: 10px;
            height: 255px;
            max-height: 255px;
            overflow-y: scroll;
        }

        #message-text {
            color: #A986EF;
            font-weight: 600;
            padding-left: 8px;
        }

        #message {
            background-color: #ffffff;
            border: none;
            border-radius: 10px;
            width: 808px;
            height: 80px;
            margin-top: 10px;
            margin-left: 8px;
            resize: none;
            padding-left: 10px;
            padding-top: 6px;
        }

        #message:focus {
            outline: 1px solid #A986EF;
            box-shadow: 0px 0px 5px #A986EF;
        }

        #add-btn {
            background-color: #A986EF;
            color: white;
            border: none;
            padding: 7px;
            padding-left: 14px;
            padding-right: 14px;
            border-radius: 8px;
            margin-top: 10px;
            margin-bottom: 20px;
            margin-left: 8px;
        }

        #add-btn:hover {
            cursor: pointer;
            background-color: #9277c7;
            transition-property: all;
            transition-duration: 0.5s;
            transition-timing-function: ease;
        }

        #button-description {
            display: flex;
            margin-left: 8px;
        }

        #button-description div p {
            color: #A986EF;
            font-weight: 600;
            font-size: 15px;
        }

        .messages {
            width: 350px;
            height: 22px;
            resize: none;
            border: none;
            border-radius: 6px;
            padding-top: 8px;
            padding-left: 8px;
            margin-bottom: 10px;
        }

        .messages:focus {
            outline: 1px solid #A986EF;
            box-shadow: 0px 0px 5px #A986EF;
        }

        #button-description div input {
            margin-left: 20px;
            width: 430px;
            height: 31px;
            resize: none;
            border: none;
            border-radius: 6px;
            padding-left: 8px;
        }

        #button-description div input:focus {
            outline: 1px solid #A986EF;
            box-shadow: 0px 0px 5px #A986EF;
        }

        #btn {
            margin-bottom: 6px;
        }

        #link {
            margin-left: 20px;
            margin-bottom: 6px;
        }

        #save-btn {
            background-color: #A986EF;
            color: white;
            border: none;
            padding: 7px;
            padding-left: 20px;
            padding-right: 20px;
            border-radius: 8px;
            margin-top: 8px;
            margin-left: 8px;
        }

        #save-btn:hover {
            cursor: pointer;
            background-color: #9277c7;
            transition-property: all;
            transition-duration: 0.5s;
            transition-timing-function: ease;
        }

        #display {
            display: flex;
            justify-content: center;
            align-items: center;
        }

        #shipment-title {
            color: #A986EF;
            font-weight: 600;
            margin-bottom: 10px;
        }

        #preview-title {
            color: #A986EF;
            font-weight: 600;
            margin-bottom: 10px;
        }

        /* --------------------------------------- */

        #footer-logo {
            display: flex;
            justify-content: center;
            align-items: center;
            color: #939393;
            margin-left: 1130px;
            margin-bottom: 10px;
        }

        #footer-links {
            display: flex;
            justify-content: center;
            align-items: center;
            color: #939393;
            margin-left: 860px;
            font-size: 15px;
            margin-bottom: 10px;
        }

        #copyright {
            display: flex;
            justify-content: end;
            align-items: center;
            color: #939393;
            margin-right: 20px;
            font-size: 15px;
            margin-bottom: 12px;
        }

        #questions {
            color: #939393;
            font-size: 15px;
            margin-right: 840px;
            margin-bottom: 12px;
        }

        #copyright-title {
            color: #939393;
            font-size: 15px;
            margin-bottom: 12px;
        }

        #footer-div {
            display: flex;
            justify-content: center;
            align-items: center;
        }

        /* ------------------------------------- */

        #page-choice-box-div {
            display: flex;
            justify-content: center;
            align-items: center;

            position: absolute;
            top: 52%;
            left: 50%;
            transform: translate(-50%, -50%);
            /* display: none; */
        }

        #page-choice-box {
            background-color: white;
            padding: 26px;
            border-radius: 20px;
            margin-bottom: 200px;
            width: 750px;
        }

        #page-choice-title {
            font-size: 20px;
        }

        #page-choice-description {
            color: #5C5C5C;
            margin-top: 10px;
            margin-bottom: 30px;
        }

        #page-choice {
            background-color: white;
            padding: 20px;
            padding-top: 6px;
            border-radius: 20px;
            border: 1px solid #CBCBCB;
            color: #5C5C5C;
        }

        #preview-profile {
            width: 50px;
        }

        #instagram-account {
            display: flex;
            justify-content: center;
            align-items: center;
            margin-top: 10px;
            margin-bottom: 10px;
        }

        table {
            border-collapse: collapse;
        }

        #preview-profile {
            margin-right: 10px;
        }

        #col {
            width: 500px;
            height: 40px;
        }

        #row {
            text-align: center;
        }

        td {
            border: 1px solid #5C5C5C;
            border-top: 1px solid #D9D9D9;
            border-bottom: white;
            border-left: white;
            border-right: white;
        }

        #page-connect-btn {
            background-color: white;
            border: 1px solid #A986EF;
            padding: 8px;
            padding-left: 20px;
            padding-right: 20px;
            color: #A986EF;
            font-weight: 600;
            border-radius: 10px;
        }

        #page-connect-btn:hover {
            cursor: pointer;
            color: white;
            background-color: #A986EF;
            transition-property: all;
            transition-duration: 0.5s;
            transition-timing-function: ease;
        }

        #shadow {
            background-color: #64646479;
            width: 100%;
            height: 100%;
            padding-bottom: 54px;

            position: absolute;
            top: 52%;
            left: 50%;
            transform: translate(-50%, -50%);
            /* display: none; */
        }

        #user-icon {
            width: 35px;
            margin-right: 10px;
        }

        #preview-action {
            position: absolute;
            top: 52%;
            left: 50%;
            transform: translate(100%, 40%);
        }

        #preview-action-box {
            display: flex;
            justify-content: center;
            align-items: end;
        }

        #preview-action-box2 {
            background-color: #f6f6f6;
            width: 230px;
            /* height: 300px; */
            border-radius: 18px;
            padding: 14px;
            padding-top: 12px;
            padding-left: 15px;
        }

        #preview-action-box2 p {
            color: black;
            font-size: 15px;
        }

        #preview-action-box2 button {
            background-color: white;
            padding: 10px;
            padding-top: 7px;
            padding-bottom: 7px;
            border: none;
            border-radius: 12px;
            margin-top: 10px;
            width: 230px;
            font-size: 14.5px;
        }

        #preview-action-box2 button:hover {
            cursor: pointer;
        }

        body {
            overflow: visible;
        }
    </style>
</head>
<body>
    <header>
        <div id="logo">
            <img src="/static/Logo.png" alt="SocialPing-Logo" id="socialping-logo">
            <h2 id="title"><a href="">SocialPing.com</a></h2>
        </div>
        <div id="links">
            <li><a href="">SocialPing이란 무엇인가</a></li>
            <li><a href="">핵심기능</a></li>
            <li><a href="">특징</a></li>
            <li><a href="">작동원리</a></li>
            <li><a href="">게시판</a></li>
        </div>
        <button id="member-btn">
            <div id="member">
                <img src="/static/profile.png" alt="" id="profile-icon">
                <div>
                    <p id="hello">안녕하세요</p>
                    <p id="username">홍길동 님</p>
                </div>
            </div>
        </button>
    </header>

    <div id="main-content">
        <div>
            <p id="shipment-title">발송 조건</p>
            <div id="if-send">
                <div id="send-if1">
                    <div id="follow-us">
                        <p>팔로우 / 논팔로우</p>
                        <select id="follows">
                            <option id="not-setting">설정안함</option>
                            <option id="follow">팔로우</option>
                            <option id="non-follow">논팔로우</option>
                        </select>
                    </div>
                    <div id="description1"><span>설정 안함</span>으로 설정하실 경우 상관 없이 DM을 발송합니다.</div>
                </div>

                <div id="send-if2">
                    <div id="keywording">
                        <p>키워드 필터링</p>
                        <select id="keyword">
                            <option id="not-setting">설정안함</option>
                            <option id="setting">설정함</option>
                        </select>
                    </div>
                    <div id="filtering-keyword-box">
                        <p id="filtering-keyword-description">필터링할 키워드 <span>(반드시 ,로 구분해서 입력해주세요.)</span></p>
                        <textarea name="filtering-keyword" id="filtering-keyword"></textarea>
                    </div>
                </div>

                <div id="send-if3">
                    <div id="comment">
                        <p>게시물 / 릴스 댓글 답장</p>
                        <select id="comments">
                            <option id="not-setting">설정안함</option>
                            <option id="post">게시물</option>
                            <option id="reels">릴스</option>
                        </select>
                    </div>
                    <div id="description2"><span>상관 없이</span> 게시물이나 릴스에 댓글이 달릴 경우 메시지를 발송합니다.</div>
                </div>

                <div id="send-if4">
                    <div id="send">
                        <p>DM / 대댓글</p>
                        <select id="sends">
                            <option id="dm">DM</option>
                            <option id="big-comment">대댓글</option>
                        </select>
                    </div>
                    <div id="message-ready">
                        <p id="message-text">메시지</p>
                        <textarea name="message" id="message"></textarea><br>
                        <button id="add-btn">버튼 추가</button>

                        <div id="buttons">
                            <div id="button-description">
                                <div>
                                    <p id="btn">버튼 1</p>
                                    <textarea name="messages" id="messages1" class="messages"></textarea>
                                </div>
                                <div>
                                    <p id="link">링크</p>
                                    <input type="text" id="link-input">
                                </div>
                            </div>
                        </div>
                    </div>
                    <button id="save-btn">저장</button>
                </div>
            </div>
        </div>

        <div>
            <p id="preview-title">미리보기</p>
            <div id="preview">
                <img src="/static/iPhone.png" alt="" id="iphone-icon">
                <div id="preview-content">
                    <img src="/static/preview-profile.png" alt="" id="preview-profile-icon">
                    <h2 id="preview-name">길동 | 18살의 사업</h2>
                    <p id="preview-username">ckrkyungmin</p>
                    <p id="preview-description1">팔로워 1.3만명 · 게시물 57개</p>
                    <button id="preview-profile-select">프로필 보기</button>
                </div>
            </div>
        </div>
    </div>

    <div id="preview-action">
        <div id="preview-action-box">
            <img src="/static/user.png" alt="" id="user-icon">
            <div id="preview-action-box2">
                <p id="preview-action-box2-p">댓글 감사합니다. 😊 버튼을 누르면 메시지가 발송돼요!</p>
                <div id="btns"></div>
            </div>
        </div>
    </div>

    <footer>
        <div id="footer-div">
            <div>
                <div id="footer-logo">
                    <img src="/static/Logo.png" alt="SocialPing-Logo" id="socialping-logo">
                    <h2 id="footer-title">SocialPing.com</h2>
                </div>
                <div id="footer-links">
                    <li>SocialPing이란 무엇인가</li>
                    <li>핵심기능</li>
                    <li>특징</li>
                    <li>작동원리</li>
                    <li>게시판</li>
                </div>
                <div id="copyright">
                    <p id="questions">문의사항: kyungmin2892@gmail.com</p>
                    <p id="copyright-title">SocialPing.com © 2025 모든 권리 보유</p>
                </div>
            </div>
        </div>
    </footer>

    <div id="shadow"></div>

    <div id="page-choice-box-div">
        <div id="page-choice-box">
            <h3 id="page-choice-title">인스타그램 페이지</h3>
            <p id="page-choice-description">페이스북 페이지와 인스타그램 계정을 socialping과 연결하고 자동화 메시지를 설정해보세요.</p>
            <div id="page-choice">
                <table>
                    <tr>
                        <th scope="col" id="col">페이지</th>
                        <th scope="col" id="col">인스타그램 계정</th>
                        <th scope="col" id="col">서비스 연결</th>
                    </tr>
                    <tbody></tbody>
                </table>
            </div>
        </div>
    </div>

    <script>
        const previewActionBox2 = document.getElementById('preview-action-box2');
        const previewActionBox2P = document.getElementById('preview-action-box2-p');
        const previewActionBtn2 = document.getElementById('preview-action-btn2');
        const linkInput = document.getElementById('link-input');
        let clickCount = 1;

        const btns = document.getElementById('btns');
        const btn2 = document.createElement('button');
        btn2.id = `preview-action-btn${clickCount}`;
        btn2.innerText = '메시지 보내주세요!';
        const br = document.createElement('br');
        btns.appendChild(btn2);
        btns.appendChild(br);

        const messagess = document.getElementById('messages1');
        messagess.addEventListener('blur', () => {
            btn2.innerText = messagess.value;
        });

        const message = document.getElementById('message');
        message.addEventListener('blur', () => {
            previewActionBox2P.innerText = message.value;
        });

        btn2.addEventListener('click', () => {
            let url = linkInput.value;
            open(url);
        });

        const addBtn = document.getElementById('add-btn');
        const buttons = document.getElementById('buttons');
        addBtn.addEventListener('click', function() {
            clickCount++;
            const buttonDescriptionDiv = document.createElement('div');
            buttonDescriptionDiv.id = 'button-description';

            const newDiv1 = document.createElement('div');
            buttonDescriptionDiv.appendChild(newDiv1);

            const btn = document.createElement('p');
            btn.id = 'btn';
            btn.innerText = `버튼 ${clickCount}`;
            const messages = document.createElement('textarea');
            messages.id = `messages${clickCount}`;
            messages.className = 'messages';
            newDiv1.appendChild(btn);
            newDiv1.appendChild(messages);

            const newDiv2 = document.createElement('div');
            buttonDescriptionDiv.appendChild(newDiv2);

            const link = document.createElement('p');
            link.id = 'link';
            link.innerText = '링크';
            const input = document.createElement('input');
            input.type = 'text';
            newDiv2.appendChild(link);
            newDiv2.appendChild(input);

            buttons.appendChild(buttonDescriptionDiv);

            const btns = document.getElementById('btns');
            const btn2 = document.createElement('button');
            btn2.id = `preview-action-btn${clickCount}`;
            btn2.innerText = '메시지 보내주세요!';
            const br = document.createElement('br');
            btns.appendChild(btn2);
            btns.appendChild(br);

            const messagess = document.getElementById(`messages${clickCount}`);
            messagess.addEventListener('blur', (event) => {
                for(let i = 0; i < clickCount; i++) {
                    btn2.innerText = messagess.value;
                }
            });

            btn2.addEventListener('click', () => {
                let url = input.value;
                open(url);
            });
        });

        const followsSelect = document.getElementById('follows');
        const keywordSelect = document.getElementById('keyword');
        const commentsSelect = document.getElementById('comments');
        const sendsSelect = document.getElementById('sends');

        followsSelect.addEventListener('change', () => {
            const description1 = document.getElementById('description1');
            let selectValue = followsSelect.options[document.getElementById('follows').selectedIndex].value

            switch(selectValue) {
                case '설정안함': {
                    description1.innerHTML = '<span>설정 안함</span>으로 설정하실 경우 상관 없이 DM을 발송합니다.';
                    break;
                }
                case '팔로우': {
                    description1.innerHTML = '<span>팔로우</span>로 설정하실 경우 팔로우한 유저에게만 DM을 발송합니다.';
                    break;
                }
                case '논팔로우': {
                    description1.innerHTML = '<span>논팔로우</span>로 설정하실 경우 팔로우하지 않은 유저에게만 DM을 발송합니다.';
                    break;
                }
            }
        });

        keywordSelect.addEventListener('change', () => {
            const filteringKeywordTextArea = document.getElementById('filtering-keyword');
            let selectValue = keywordSelect.options[document.getElementById('keyword').selectedIndex].value

            switch(selectValue) {
                case '설정안함': {
                    if (filteringKeywordTextArea.value !== null) filteringKeywordTextArea.value = '';
                    filteringKeywordTextArea.style.pointerEvents = 'none';
                    break;
                }
                case '설정함': {
                    filteringKeywordTextArea.style.pointerEvents = 'auto';
                    break;
                }
            }
        });

        commentsSelect.addEventListener('change', () => {
            const description2 = document.getElementById('description2');
            let selectValue = commentsSelect.options[document.getElementById('comments').selectedIndex].value

            switch(selectValue) {
                case '설정안함': {
                    description2.innerHTML = '<span>상관 없이</span> 게시물이나 릴스에 댓글이 달릴 경우 메시지를 발송합니다.';
                    break;
                }
                case '게시물': {
                    description2.innerHTML = '<span>게시물</span>에 댓글이 달릴 경우 메시지를 발송합니다.';
                    break;
                }
                case '릴스': {
                    description2.innerHTML = '<span>릴스</span>에 댓글이 달릴 경우 메시지를 발송합니다.';
                    break;
                }
            }
        });


        sendsSelect.addEventListener('change', () => {
            const messageReady = document.getElementById('message-ready');
            let selectValue = sendsSelect.options[document.getElementById('sends').selectedIndex].value

            switch(selectValue) {
                case 'DM': {
                    messageReady.innerHTML = `
                            <p id="message-text">메시지</p>
                            <textarea name="message" id="message"></textarea><br>
                            <button id="add-btn">버튼 추가</button>

                            <div id="buttons">
                                <div id="button-description">
                                    <div>
                                        <p id="btn">버튼 1</p>
                                        <textarea name="messages" id="messages1" class="messages"></textarea>
                                    </div>
                                    <div>
                                        <p id="link">링크</p>
                                        <input type="text" id="link-input">
                                    </div>
                                </div>
                            </div>
                        `;

                    const linkInput = document.getElementById('link-input');

                    clickCount = 1
                    const btns = document.getElementById('btns');
                    btns.innerHTML = ``;

                    const btn2 = document.createElement('button');
                    btn2.id = `preview-action-btn${clickCount}`;
                    btn2.innerText = '메시지 보내주세요!';
                    const br = document.createElement('br');
                    btns.appendChild(btn2);
                    btns.appendChild(br);

                    btn2.addEventListener('click', () => {
                        let url = linkInput.value;
                        open(url);
                    });

                    const messagess = document.getElementById('messages1');
                    messagess.addEventListener('blur', () => {
                        btn2.innerText = messagess.value;
                    });

                    const message = document.getElementById('message');
                    message.addEventListener('blur', () => {
                        previewActionBox2P.innerText = message.value;
                    });

                    const addBtn = document.getElementById('add-btn');
                    const buttons = document.getElementById('buttons');

                    addBtn.addEventListener('click', function() {
                        clickCount++;
                        const buttonDescriptionDiv = document.createElement('div');
                        buttonDescriptionDiv.id = 'button-description';

                        const newDiv1 = document.createElement('div');
                        buttonDescriptionDiv.appendChild(newDiv1);

                        const btn = document.createElement('p');
                        btn.id = 'btn';
                        btn.innerText = `버튼 ${clickCount}`;
                        const messages = document.createElement('textarea');
                        messages.id = `messages${clickCount}`;
                        messages.className = 'messages';
                        newDiv1.appendChild(btn);
                        newDiv1.appendChild(messages);

                        const newDiv2 = document.createElement('div');
                        buttonDescriptionDiv.appendChild(newDiv2);

                        const link = document.createElement('p');
                        link.id = 'link';
                        link.innerText = '링크';
                        const input = document.createElement('input');
                        input.type = 'text';
                        newDiv2.appendChild(link);
                        newDiv2.appendChild(input);

                        buttons.appendChild(buttonDescriptionDiv);

                        const btns = document.getElementById('btns');
                        const btn2 = document.createElement('button');
                        btn2.id = `preview-action-btn${clickCount}`;
                        btn2.innerText = '메시지 보내주세요!';
                        const br = document.createElement('br');
                        btns.appendChild(btn2);
                        btns.appendChild(br);

                        const messagess = document.getElementById(`messages${clickCount}`);
                        messagess.addEventListener('blur', (event) => {
                            for(let i = 0; i < clickCount; i++) {
                                btn2.innerText = messagess.value;
                            }
                        });

                        btn2.addEventListener('click', () => {
                            let url = input.value;
                            open(url);
                        });
                    });
                    break;
                }
                case '대댓글': {
                    messageReady.innerHTML = `<p id="message-text">메시지</p>
                            <textarea name="message" id="message"></textarea><br>
                        `;
                    break;
                }
            }
        });


        const body = document.querySelector('body');
        body.style.overflow = 'hidden';
        body.style.height = '100%';

        const shadow = document.getElementById('shadow');
        for(let i = 0; i < 2; i++) {
            const tbody = document.querySelector('tbody');
            const tr = document.createElement('tr');
            tr.id = 'row';
            tbody.appendChild(tr);

            const tdPageName = document.createElement('td');
            tdPageName.id = 'page-name';
            tdPageName.innerText = 'Test-test';
            tr.appendChild(tdPageName);

            const td = document.createElement('td');
            const divInstagramAccount = document.createElement('div');
            divInstagramAccount.id = 'instagram-account';
            td.appendChild(divInstagramAccount);
            tr.appendChild(td);

            const img = document.createElement('img');
            img.id = 'preview-profile';
            img.src = '/static/preview-profile.png';
            const p = document.createElement('p');
            p.id = 'instagram-username';
            p.innerText = 'Hong_Gil-dong';
            divInstagramAccount.appendChild(img);
            divInstagramAccount.appendChild(p);

            const tdButton = document.createElement('td');
            const button = document.createElement('button');
            button.id = 'page-connect-btn';
            button.innerText = '페이지 연결하기';

            const pageChoiceBoxDiv = document.getElementById('page-choice-box-div');
            button.addEventListener('click', function() {
                body.style.overflow = 'visible';
                body.style.height = '0';

                shadow.style.display = 'none';
                pageChoiceBoxDiv.style.display = 'none';
            });
            tdButton.appendChild(button);
            tr.appendChild(tdButton);
        }
    </script>
</body>
</html>